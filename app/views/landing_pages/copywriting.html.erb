<%= turbo_frame_tag "editor-replacable" do %>
<%= form_with(model: @landing_page, class: "landing-page-form") do |form| %>
  <% if @landing_page.errors.any? %>
    <div class="form-errors">
      <h2><%= pluralize(@landing_page.errors.count, "error") %> prohibited this landing_page from being saved:</h2>
      <ul>
        <% @landing_page.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <fieldset class="fieldset-group">
    <legend>Hero Section</legend>
    <div class="form-field">
      <%= label_tag 'landing_page[copywriting][hero_section][heading]', "Hero Heading", class: "form-label" %>
      <%= text_field_tag 'landing_page[copywriting][hero_section][heading]', @landing_page.copywriting.dig('hero_section', 'heading'), class: "form-input" %>
    </div>
    <div class="form-field">
      <%= label_tag 'landing_page[copywriting][hero_section][subheading]', "Hero Subheading", class: "form-label" %>
      <%= text_area_tag 'landing_page[copywriting][hero_section][subheading]', @landing_page.copywriting.dig('hero_section', 'subheading'), class: "form-input", rows: 3 %>
    </div>
  </fieldset>


  <fieldset class="fieldset-group">
    <legend>Reviews Section</legend>
        <div class="form-field">
      <%= label_tag 'landing_page[copywriting][reviews_section][heading]', "Reviews heading", class: "form-label" %>
      <%= text_field_tag 'landing_page[copywriting][reviews_section][heading]', @landing_page.copywriting.dig('reviews_section', 'heading'), class: "form-input" %>
    </div>
    <div class="form-field">
      <%= label_tag 'landing_page[copywriting][reviews_section][subheading]', "Reviews  Subheading", class: "form-label" %>
      <%= text_area_tag 'landing_page[copywriting][reviews_section][subheading]', @landing_page.copywriting.dig('reviews_section', 'subheading'), class: "form-input", rows: 3 %>
    </div>
  </fieldset>


  <div class="form-actions">
    <div class="form-actions-group">
      <%= form.submit "Update Copywriting", class: "submit-button" %>
      <%= link_to @landing_page, target: "_blank", class: "view-button", title: "View Landing Page" do %>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
        </svg>
      <% end %>
    </div>
  </div>
<% end %>

<style>
  .landing-page-form {
    width: 100%;
  }

  .form-errors {
    background-color: #fef2f2;
    color: #991b1b;
    padding: 16px;
    margin-bottom: 24px;
    border-radius: 8px;
    border: 1px solid #fecaca;
  }

  .form-errors ul {
    margin: 8px 0 0 20px;
  }

  .form-field {
    margin-bottom: 24px;
  }

  .form-label {
    display: block;
    margin-bottom: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    color: #374151;
  }

  .form-input {
    display: block;
    width: 100%;
    padding: 10px 14px;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    font-size: 0.9375rem;
    background-color: #ffffff;
  }

  .form-input:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  .fieldset-group {
    margin-bottom: 32px;
    padding: 20px;
    background-color: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
  }

  .fieldset-group legend {
    font-weight: 600;
    font-size: 0.9375rem;
    color: #1a1a1a;
    padding: 0 8px;
  }

  .form-actions {
    position: sticky;
    bottom: 0;
    background-color: #ffffff;
    padding: 20px 0;
    border-top: 1px solid #e5e7eb;
    z-index: 10;
    margin-top: 32px;
  }

  .form-actions-group {
    display: flex;
    gap: 12px;
    align-items: center;
  }

  .submit-button {
    flex: 1;
    padding: 12px 24px;
    background-color: #2563eb;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9375rem;
    font-weight: 500;
  }

  .view-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px;
    background-color: #f3f4f6;
    color: #374151;
    border-radius: 6px;
    text-decoration: none;
  }
</style>
<% end %>
